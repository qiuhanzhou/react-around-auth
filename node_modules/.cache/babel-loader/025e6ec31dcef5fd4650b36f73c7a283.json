{"ast":null,"code":"class Api {\n  constructor(_ref) {\n    let {\n      baseUrl,\n      headers\n    } = _ref;\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  _handleServerResponse(res) {\n    return res.ok ? res.json() : Promise.reject(`Error:${res.status}`);\n  }\n\n  getUserInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers\n    }).then(res => this._handleServerResponse(res));\n  }\n\n  setUserInfo(_ref2) {\n    let {\n      name,\n      about\n    } = _ref2;\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        about\n      })\n    }).then(this._handleServerResponse);\n  }\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this._headers\n    }).then(res => this._handleServerResponse(res));\n  }\n\n  addCard(_ref3) {\n    let {\n      name,\n      link\n    } = _ref3;\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        link\n      })\n    }).then(this._handleServerResponse);\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers\n    }).then(res => this._handleServerResponse(res));\n  }\n\n  likeCard(cardId) {\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n      method: 'PUT',\n      headers: this._headers\n    }).then(this._handleServerResponse);\n  }\n\n  unlikeCard(cardId) {\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers\n    }).then(this._handleServerResponse);\n  }\n\n  updateProfilePicture(link) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: link\n      })\n    }).then(this._handleServerResponse);\n  }\n\n}\n\nconst api = new Api({\n  baseUrl: 'https://around.nomoreparties.co/v1/group-12',\n  headers: {\n    authorization: 'bdbcf068-f0a2-4438-8115-013f3ee9f311',\n    'Content-Type': 'application/json'\n  }\n});\nexport default api;","map":{"version":3,"names":["Api","constructor","baseUrl","headers","_baseUrl","_headers","_handleServerResponse","res","ok","json","Promise","reject","status","getUserInfo","fetch","then","setUserInfo","name","about","method","body","JSON","stringify","getInitialCards","addCard","link","deleteCard","cardId","likeCard","unlikeCard","updateProfilePicture","avatar","api","authorization"],"sources":["/Users/yangchen/Documents/ZQH/Practicum/Projects/react-around-auth/src/utils/api.js"],"sourcesContent":["class Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl\n    this._headers = headers\n  }\n\n  _handleServerResponse(res) {\n    return res.ok ? res.json() : Promise.reject(`Error:${res.status}`)\n  }\n\n  getUserInfo() {\n    return fetch(`${this._baseUrl}/users/me`, { headers: this._headers }).then(\n      (res) => this._handleServerResponse(res),\n    )\n  }\n\n  setUserInfo({ name, about }) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        about,\n      }),\n    }).then(this._handleServerResponse)\n  }\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, { headers: this._headers }).then(\n      (res) => this._handleServerResponse(res),\n    )\n  }\n\n  addCard({ name, link }) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        link,\n      }),\n    }).then(this._handleServerResponse)\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers,\n    }).then((res) => this._handleServerResponse(res))\n  }\n\n  likeCard(cardId) {\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n      method: 'PUT',\n      headers: this._headers,\n    }).then(this._handleServerResponse)\n  }\n\n  unlikeCard(cardId) {\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers,\n    }).then(this._handleServerResponse)\n  }\n\n  updateProfilePicture(link) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: link,\n      }),\n    }).then(this._handleServerResponse)\n  }\n}\nconst api = new Api({\n  baseUrl: 'https://around.nomoreparties.co/v1/group-12',\n  headers: {\n    authorization: 'bdbcf068-f0a2-4438-8115-013f3ee9f311',\n    'Content-Type': 'application/json',\n  },\n})\n\nexport default api\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}